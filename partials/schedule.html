<!-- TODO: Establish Color coding: Scheduled, Checked-in, No-Show, See-Notes, Complete(Checked-out) -->

<div class="page-header">
    <div class="pull-left form-inline">
        <div class="btn-group">
            <button class="btn btn-default">New Reservation</button>
            <button class="btn btn-default" onclick="$('#vacancySearch').collapse('toggle');">Vacancy Search</button>
            <!-- TODO: Test vacancySearch & Clean up screen presentation. -->
            <div id="vacancySearch" class="collapse">
                <form role="form">
                    <div class="form-group">
                        <table>
                            <tr>
                                <td>
                                    <label>Kennel Size</label>
                                    <div>
                                        <select class="form-control" ng-model="kennel_size"><option>Small</option><option>Medium</option><option>Large</option></select>
                                    </div>
                                </td>
                                <td>
                                    <label>Check-in</label>
                                    <div class="dropdown">
                                        <a class="dropdown-toggle my-toggle-select" id="checkin" role="button" data-toggle="dropdown" >
                                            <div class="input-append"><input type="text" class="form-control" data-ng-model="checkin.date"><span class="add-on"><i
                                                    class="icon-calendar"></i></span>
                                            </div>
                                        </a>
                                        <ul class="dropdown-menu" role="menu" aria-labelledby="checkin">
                                            <datetimepicker data-ng-model="checkin.date"
                                                            data-datetimepicker-config="{ dropdownSelector: '.my-toggle-select' }"></datetimepicker>
                                        </ul>
                                    </div>
                                </td>

                                <td><label>Check-out</label>
                                    <div class="dropdown">
                                        <a class="dropdown-toggle my-toggle-select" id="checkout" role="button" data-toggle="dropdown" >
                                            <div class="input-append"><input type="text" class="form-control" data-ng-model="checkout.date"><span class="add-on"><i
                                                    class="icon-calendar"></i></span>
                                            </div>
                                        </a>
                                        <ul class="dropdown-menu" role="menu" aria-labelledby="checkout">
                                            <datetimepicker data-ng-model="checkout.date"
                                                            data-datetimepicker-config="{ dropdownSelector: '.my-toggle-select' }"></datetimepicker>
                                        </ul>
                                    </div>
                                </td>
                                <td>
                                    <label> </label>
                                    <button class="form-control btn-primary btn-sm" ng-click="availKennels();" onclick="$('#availKennelDiv').collapse('toggle');">Search</button>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div ng-show="hasResults" class="collapse" id="availKennelDiv">
                        <table class="table table-bordered table-condensed">
                            <!-- TODO: Tie in ability to launch the reservation create screen from here -->
                            <!--<tr><th>--></th><th>Kennel</th><th>Size</th></tr>
                            <tr ng-repeat="ak in avk"><!--<td width="60px"><button class="btn btn-sm" onclick="$('#availKennelDiv').collapse('toggle');" ng-click="primeReservation(ak.name);">Select</button></td> --><td>{{ak.name}}</td><td>{{ak.size}}</td></tr>
                        </table>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="pull-right form-inline">
        <div class="btn-group">
            <button class="btn btn-primary" data-calendar-nav="prev"><< Prev</button>
            <button class="btn" data-calendar-nav="today">Today</button>
            <button class="btn btn-primary" data-calendar-nav="next">Next >></button>
        </div>
        <div class="btn-group">
            <button class="btn btn-warning" data-calendar-view="year">Year</button>
            <button class="btn btn-warning active" data-calendar-view="month">Month</button>
            <button class="btn btn-warning" data-calendar-view="week">Week</button>
            <button class="btn btn-warning" data-calendar-view="day">Day</button>
        </div>
    </div>
    <h3></h3>
</div>

<table class="table table-bordered">
    <tr><th colspan="2">Large Breed</th></tr>
    <tr><td width="135"><button type="button" class="btn btn-default" onclick="$('#divCalLargeBreed').collapse('toggle');">Expand/Collapse</button></td>
        <td>
            <div id="divCalLargeBreed" class="collapse">
                <div id="calLargeBreed"></div>
            </div>
        </td>
    </tr>

    <script type="text/javascript">
        var lrgCalendar = $('#calLargeBreed').calendar({events_source: '/api/index.php/fetchreservelist/large',
            view: 'week',
            onAfterViewLoad: function(view) {
                $('.page-header h3').text(this.getTitle());
                $('.btn-group button').removeClass('active');
                $('button[data-calendar-view="' + view + '"]').addClass('active');
            }
        });

        $('.btn-group button[data-calendar-nav]').each(function() {
            var $this = $(this);
            $this.click(function() {
                lrgCalendar.navigate($this.data('calendar-nav'));
            });
        });

        $('.btn-group button[data-calendar-view]').each(function() {
            var $this = $(this);
            $this.click(function() {
                lrgCalendar.view($this.data('calendar-view'));
            });
        });
    </script>
</table>

<table class="table table-bordered">
    <tr><th colspan="2">Medium Breed</th></tr>
    <tr><td width="135"><button type="button" class="btn btn-default" onclick="$('#divCalMedBreed').collapse('toggle');">Expand/Collapse</button></td>
        <td>
            <div id="divCalMedBreed" class="collapse">
                <div id="calMedBreed"></div>
            </div>
        </td>
    </tr>

    <script type="text/javascript">
        var medCalendar = $('#calMedBreed').calendar({events_source: '/api/index.php/fetchreservelist/medium',
            view: 'week',
            onAfterViewLoad: function(view) {
                $('.page-header h3').text(this.getTitle());
                $('.btn-group button').removeClass('active');
                $('button[data-calendar-view="' + view + '"]').addClass('active');
            }
        });

        $('.btn-group button[data-calendar-nav]').each(function() {
            var $this = $(this);
            $this.click(function() {
                medCalendar.navigate($this.data('calendar-nav'));
            });
        });

        $('.btn-group button[data-calendar-view]').each(function() {
            var $this = $(this);
            $this.click(function() {
                medCalendar.view($this.data('calendar-view'));
            });
        });
    </script>
</table>

<table class="table table-bordered">
    <tr><th colspan="2">Small Breed</th></tr>
    <tr><td width="135"><button type="button" class="btn btn-default" onclick="$('#divCalSmallBreed').collapse('toggle');">Expand/Collapse</button></td>
        <td>
            <div id="divCalSmallBreed" class="collapse">
                <div id="calSmallBreed"></div>
            </div>
        </td>
    </tr>

    <script type="text/javascript">

        var smlCalendar = $('#calSmallBreed').calendar({events_source: '/api/index.php/fetchreservelist/small',
            view: 'week',
            onAfterViewLoad: function(view) {
                $('.page-header h3').text(this.getTitle());
                $('.btn-group button').removeClass('active');
                $('button[data-calendar-view="' + view + '"]').addClass('active');
            }
        });

        $('.btn-group button[data-calendar-nav]').each(function() {
            var $this = $(this);
            $this.click(function() {
                smlCalendar.navigate($this.data('calendar-nav'));
            });
        });

        $('.btn-group button[data-calendar-view]').each(function() {
            var $this = $(this);
            $this.click(function() {
                smlCalendar.view($this.data('calendar-view'));
            });
        });
    </script>
</table>